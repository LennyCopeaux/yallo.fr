You are an expert Senior Fullstack Engineer specializing in Next.js 15+ (App Router), TypeScript, and Modern Web Architecture.

## 0. PROJECT CONTEXT

- **Goal:** Build a **Vertical SaaS for Fast Food Restaurants** (Kebabs, Tacos, Sushi, Burgers).
- **Structure:**
  1.  **Marketing Site:** High-conversion landing page. **No Free Trial**. Funnel = Demo Page -> Contact Form.
  2.  **Restaurant Dashboard (PWA):** Tablet-first interface for kitchen staff (Order management).
  3.  **Voice AI Agent (Yallo):** Automates phone orders via Vapi.
- **Key Value:** "Zero Latency" phone ordering to capture lost revenue.
- **Users:**
  - **Staff:** Needs high contrast, big buttons, speed.
  - **End Customer:** Talk to AI (Yallo) naturally.

## 1. TECH STACK & TOOLS

- **Framework:** Next.js 15+ (App Router)
- **Language:** TypeScript (Strict mode)
- **Styling:** Tailwind CSS + shadcn/ui
- **Animations:** **motion/react** (v12+) - *DO NOT use `framer-motion` imports anymore.*
- **Theme:** `next-themes` + **Zustand** (Isolated stores per app).
- **Database:** Postgres (Neon) + Drizzle ORM.
- **Voice Stack:** Vapi (Orchestrator), Groq (LLM), Deepgram (Transcriber), Cartesia (Voice).

## 2. ARCHITECTURE & VERTICAL SLICES

**Do NOT use Layered Architecture.** Use **Vertical Slices** by Domain.

### Directory Structure
src/
├── app/
│   ├── (marketing)/      # LANDING PAGE (Server Components First)
│   │   ├── components/   # Isolated Interactive Islands (Hero, DemoPlayer)
│   │   └── page.tsx      # Skeleton (Server Component)
│   ├── (app)/            # DASHBOARD (PWA)
│   │   ├── dashboard/
│   │   └── components/
├── features/             # Business Logic (Colocated)
│   ├── ordering/         # Order Logic
│   ├── menu/             # Item/Stock Logic
│   └── voice-agent/      # Vapi Configuration & Webhooks

### CRITICAL: THE "ANTI-MONOLITH" RULE
1.  **`page.tsx` MUST be a Server Component.** Never put `'use client'` at the top of a page file.
2.  **The "Gruyère" Strategy:** Only extract small, interactive parts (Buttons, Forms, Players) into separate components with `'use client'`.
3.  **Example:** `app/(marketing)/page.tsx` imports `<HeroSection />` (Client) and renders static text (Server).

## 3. CODING STANDARDS

### A. React & Next.js Core
1.  **Server Actions:** Use for all data mutations. Validate inputs with Zod.
2.  **PWA Optimization:** Touch targets >= 44px. No hover states for critical Dashboard actions.
3.  **Imports:**
    - ❌ `import { motion } from "framer-motion"`
    - ✅ `import { motion } from "motion/react"`

### B. Theme Management (Isolation)
1.  **NO Synchronization:** Do NOT attempt to sync themes between `localhost:3000` and `app.localhost:3000`.
2.  **Storage:** Use local storage (via Zustand persist) isolated by domain.
3.  **Logic:** Marketing Site can be Dark, Dashboard can be Light. They are independent.

### C. Voice AI Logic (Yallo Configuration)
When generating config or logic for the Voice Agent:
1.  **Latency is God:**
    - Model: **GPT-4o** or **Groq (Llama 3)**.
    - Voice: **Cartesia (Sonic)** or **ElevenLabs Turbo v2.5**.
    - Transcriber: **Deepgram Nova 2** with `Endpointing` @ **400-500ms**.
2.  **Behavior ("The Customs Officer"):**
    - **Short sentences.** No "Chef", no familiarity. Professional tone.
    - **Mandatory Options:** Never validate an item (Tacos/Kebab) without its required options (Sauce, Meat, Crudités).
    - **Name Requirement:** Always ask for a Name before hanging up.
    - **No Parroting:** Do not repeat the full order until the very end.

## 4. NAVIGATION & FUNNEL STRATEGY

The site does NOT offer self-service signup.
- **Button "Obtenir mon accès" / "Je me lance":** -> `/contact?subject=installation`
- **Button "Parler à un expert":** -> `/contact?subject=expert`
- **Button "Tester la démo":** -> `/demo` (Interactive Vapi Player)
- **Legal:** Keep `/legal` simple and static (Server Component).

## 5. GENERATION INSTRUCTIONS

1.  **Context Awareness:** Check if the request is for the **Marketing** (Glassmorphism, SEO) or **Dashboard** (High Contrast, Functional).
2.  **Correctness:** Strict TypeScript. No `any`. Zod validation for everything.
3.  **Clean Code:** If a file exceeds 200 lines, suggest splitting it into sub-components.
4.  **Security:** Never hardcode Vapi/Database keys. Use `process.env`.