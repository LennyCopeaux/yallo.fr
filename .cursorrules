You are an expert Senior Fullstack Engineer specializing in Next.js (App Router), TypeScript, and Modern Web Architecture.

## 0. PROJECT CONTEXT

- **Goal:** Build a **Vertical SaaS for Fast Food Restaurants** (Kebabs, Tacos, Sushi, Burgers) consisting of two distinct parts:
  1.  **Marketing Site:** A high-conversion, modern "glassmorphism" landing page to sell the solution (Demos, Pricing, Features).
  2.  **Restaurant Dashboard (PWA):** A progressive web app used on tablets in kitchens to manage orders.
- **Core Value:** Automate phone order taking using a **Voice AI Agent** to capture lost revenue during rush hours.
- **Users:**
  - **Restaurant Staff (PWA):** Need a "Kitchen Display System" interface. Big buttons, high contrast, real-time updates.
  - **End Customers (Voice):** Call the restaurant and interact with the AI to place orders.
- **Key Features:**
  - **Voice AI:** Real-time speech-to-text, slang understanding ("Grec", "Naan"), handling accents.
  - **Smart Upselling:** AI suggests drinks/sides based on the specific menu context.
  - **Live Dashboard:** Real-time order feed (WebSockets/Polling).
  - **Stock Control:** Simple "On/Off" toggles for menu items.
  - **Human Handoff:** Transfer call to staff if AI fails.

## 1. TECH STACK & TOOLS

- **Framework:** Next.js 15+ (App Router)
- **Language:** TypeScript (Strict mode)
- **Styling:** Tailwind CSS + shadcn/ui
- **Theme:** `next-themes` (Dark/Light mode support)
- **Database:** Postgres (Neon) + Drizzle ORM
- **Validation:** Zod
- **State Management:** URL Search Params (primary), React Context (secondary)
- **Package Manager:** pnpm

## 2. ARCHITECTURE: VERTICAL SLICES

Do NOT use a layered architecture. Use **Vertical Slices** organized by Domain.
We use **Route Groups** to separate the Marketing Site from the SaaS App.

### Directory Structure

src/
├── app/
│   ├── (marketing)/      # LANDING PAGE (Glassmorphism, SEO friendly)
│   │   ├── layout.tsx    # Marketing Navbar/Footer
│   │   └── page.tsx
│   ├── (app)/            # SAAS DASHBOARD (PWA, Auth protected)
│   │   ├── dashboard/
│   │   └── layout.tsx    # App Sidebar/Navigation
│   └── layout.tsx        # Root Layout (Providers)
├── features/             # Business Logic (Colocated)
│   ├── ordering/         # Feature: Order Management
│   │   ├── components/   # OrderCard.tsx, KitchenTicket.tsx
│   │   ├── actions.ts    # Server Actions
│   │   └── queries.ts    # DB calls
│   ├── menu-management/  # Feature: Stock & Items
│   └── voice-agent/      # Feature: AI Configuration
├── components/           # Shared UI
│   ├── ui/               # shadcn components
│   └── marketing/        # Marketing specific UI (Hero, PricingCard)
├── lib/
└── hooks/

### Rules for "Features"
1.  **Colocation:** Everything belonging to a feature (UI, server actions, DB queries, types) stays in `src/features/<feature-name>`.
2.  **Boundaries:** The Marketing site should NOT import heavy dashboard components. Keep them decoupled.

## 3. CODING STANDARDS

### A. React & Next.js Core
1.  **Server Components by Default:** Fetch data directly in Server Components using `await`.
2.  **Client Components:** Mark with `'use client'` only for interactive leaf nodes.
3.  **PWA Optimization:**
    - For `(app)` components, ensure touch targets are at least 44x44px.
    - Avoid "Hover" states for critical actions in the dashboard (Tablets don't hover).
4.  **Suspense:** Always wrap data-fetching components in `<Suspense>` with Skeletons.

### B. Design & UI (Tailwind)
1.  **Marketing Style (`(marketing)`):**
    - Use modern aesthetics: Glassmorphism (`backdrop-blur`), subtle gradients, large typography.
    - Animations: Use `framer-motion` for smooth entrance animations.
2.  **Dashboard Style (`(app)`):**
    - Focus on **Legibility** and **Speed**. High contrast.
    - Information density should be managed carefully (Kitchen view needs to be readable from 1 meter away).
3.  **Mobile First:** Always write classes like `flex-col md:flex-row`.

### C. Data & TypeScript
1.  **Strict Typing:** No `any`. Return types defined for all Server Actions.
2.  **Zod Validation:** Validate ALL inputs (Forms, API responses, Voice transcripts).
3.  **Database:** Use `drizzle-orm` with `postgres-js` or `@neondatabase/serverless` driver.

## 4. CODE STYLE

- **Naming:** `PascalCase` for Components, `camelCase` for functions, `kebab-case` for files.
- **Comments:** Explain "Why", not "What".
- **Exports:** Named Exports preferred.

## 5. GENERATION INSTRUCTIONS for AI

1.  **Conciseness:** Output the solution directly.
2.  **Context Awareness:** If I ask for a "Button", check if it's for the **Marketing** site (Fancy, Gradient) or the **Dashboard** (Solid, Functional).
3.  **Correctness:** Use strictly `App Router` paradigms. No `useEffect` for data fetching.
4.  **Security:** Assume `process.env` for secrets. Never hardcode API keys.